const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./renderVisualEditing._DpSTW0F.js","./client.BdfZpmnH.js","./preload-helper.D6kgxu3v.js","./index.CxsFIwBe.js","./scheduler.BJrbY8Dn.js"])))=>i.map(i=>d[i]);
import{r as d,w as v}from"./index.CxsFIwBe.js";import{s as u,o as c}from"./scheduler.BJrbY8Dn.js";import{S as f,i as m}from"./index.DOQLGmZL.js";import{_ as w}from"./preload-helper.D6kgxu3v.js";import{a as g,g as _,i as y}from"./entry.BnQP4Ele.js";import{h as b,a as x}from"./client.BdfZpmnH.js";const h=v(!1),D=d(h),M=h.set;function P(t={}){const r=new AbortController;return w(()=>import("./renderVisualEditing._DpSTW0F.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(({renderVisualEditing:s})=>{const{signal:n}=r;n.aborted||s(n,t)}),()=>{r.abort()}}function E(t,r,s){let{zIndex:n=void 0}=r,{refresh:a=void 0}=r,i,l=!1;return c(()=>P({zIndex:n,refresh:e=>{function o(){return e.source==="mutation"&&e.livePreviewEnabled?!1:new Promise(async p=>{await y(),p()})}return a?a(e,o):o()},history:{subscribe:e=>(i=e,i({type:"replace",url:window.location.pathname+window.location.search}),()=>{i=void 0}),update:e=>{e.type==="push"||e.type==="replace"?(l=!0,_(e.url,{replaceState:e.type==="replace"})):e.type==="pop"&&history.back()}}})),g(async({to:e,complete:o})=>{i&&e&&!l&&(await o,i({type:"push",url:e.url.pathname+e.url.search})),l=!1}),t.$$set=e=>{"zIndex"in e&&s(0,n=e.zIndex),"refresh"in e&&s(1,a=e.refresh)},[n,a]}class k extends f{constructor(r){super(),m(this,r,E,null,u,{zIndex:0,refresh:1})}}function I(t){return c(()=>b({client:x})),[]}class q extends f{constructor(r){super(),m(this,r,I,null,u,{})}}export{q as L,k as V,D as i,M as s};
